<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Lizandro Felipe Camargo de Oliveira</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .brand-gradient {
            background: linear-gradient(90deg, #00A6ED, #4A00E0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #fff;
            width: 24px;
            height: 24px;
            -webkit-animation: spin 1s linear infinite;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 
        Chosen Color Palette: Custom Vibrant Blue/Purple
        Primary: #00A6ED (Blue)
        Secondary: #4A00E0 (Purple)
        Accent: #FFD700 (Yellow)
        Text/Neutral: #1F2937 (Dark Gray), #F9FAFB (Light Gray)
    -->

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black uppercase brand-gradient">Lizandro Felipe Camargo de Oliveira</h1>
            <p class="text-xl md:text-2xl font-semibold text-gray-600 mt-2">A Conex√£o Estrat√©gica entre Direito e Tecnologia</p>
        </header>

        <main class="space-y-12">
            
            <section id="profile" class="bg-white rounded-2xl shadow-lg p-8 text-center">
                <h2 class="text-3xl font-bold mb-4">Perfil Profissional</h2>
                <p id="profile-text" class="text-lg max-w-3xl mx-auto text-gray-700">
                    Graduando em Direito pela Universidade Federal Fluminense com s√≥lida base t√©cnica em An√°lise e Desenvolvimento de Sistemas. Busco oportunidades que permitam aplicar meu conhecimento multidisciplinar para solucionar problemas e contribuir com uma atua√ß√£o pautada na excel√™ncia, √©tica e na entrega de resultados. Experi√™ncia pr√©via em vendas, onde desenvolvi habilidades de proatividade, comprometimento e comunica√ß√£o interpessoal.
                </p>
            </section>

            <section id="journey">
                <h2 class="text-3xl font-bold text-center mb-8">Jornada Dupla: Tecnologia e Direito</h2>
                <div class="relative wrap overflow-hidden p-10 h-full">
                    <div class="border-2-2 absolute border-opacity-20 border-blue-700 h-full border" style="left: 50%"></div>
                    
                    <div class="mb-8 flex justify-between items-center w-full right-timeline">
                        <div class="order-1 w-5/12"></div>
                        <div class="z-20 flex items-center order-1 bg-blue-500 shadow-xl w-12 h-12 rounded-full">
                            <h3 class="mx-auto font-bold text-lg text-white">1</h3>
                        </div>
                        <div class="order-1 bg-white rounded-lg shadow-xl w-5/12 px-6 py-4">
                            <h3 class="font-bold text-gray-800 text-xl">Forma√ß√£o T√©cnica (2022)</h3>
                            <p class="text-sm leading-snug tracking-wide text-gray-600">Conclus√£o do Curso T√©cnico em An√°lise e Desenvolvimento de Sistemas na Etec Dr. Dem√©trio Azevedo J√∫nior, construindo uma base s√≥lida em tecnologia.</p>
                        </div>
                    </div>

                    <div class="mb-8 flex justify-between flex-row-reverse items-center w-full left-timeline">
                        <div class="order-1 w-5/12"></div>
                        <div class="z-20 flex items-center order-1 bg-blue-500 shadow-xl w-12 h-12 rounded-full">
                            <h3 class="mx-auto text-white font-bold text-lg">2</h3>
                        </div>
                        <div class="order-1 bg-white rounded-lg shadow-xl w-5/12 px-6 py-4">
                            <h3 class="font-bold text-gray-800 text-xl">Experi√™ncia em Vendas (2023-2024)</h3>
                            <p class="text-sm leading-snug tracking-wide text-gray-600">Atua√ß√£o como Vendedor, desenvolvendo habilidades cruciais de comunica√ß√£o, negocia√ß√£o e proatividade no ambiente corporativo.</p>
                        </div>
                    </div>
                    
                    <div class="mb-8 flex justify-between items-center w-full right-timeline">
                        <div class="order-1 w-5/12"></div>
                        <div class="z-20 flex items-center order-1 bg-blue-500 shadow-xl w-12 h-12 rounded-full">
                            <h3 class="mx-auto font-bold text-lg text-white">3</h3>
                        </div>
                        <div class="order-1 bg-white rounded-lg shadow-xl w-5/12 px-6 py-4">
                            <h3 class="font-bold text-gray-800 text-xl">In√≠cio no Direito (2024)</h3>
                            <p class="text-sm leading-snug tracking-wide text-gray-600">Ingresso no Bacharelado em Direito na prestigiosa Universidade Federal Fluminense (UFF), iniciando a jornada para unir tecnologia e legisla√ß√£o.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="skills">
                <h2 class="text-3xl font-bold text-center mb-8">Habilidades em Foco</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">Compet√™ncias Comportamentais</h3>
                        <p class="text-center text-gray-600 mb-4">Um perfil equilibrado focado em colabora√ß√£o, lideran√ßa e resolu√ß√£o de problemas.</p>
                        <div class="chart-container">
                            <canvas id="softSkillsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">Compet√™ncias T√©cnicas</h3>
                         <p class="text-center text-gray-600 mb-4">Conhecimentos que transitam entre o desenvolvimento de software e a an√°lise jur√≠dica.</p>
                        <div class="chart-container">
                            <canvas id="techSkillsChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="projects">
                <h2 class="text-3xl font-bold text-center mb-8">Projetos de Destaque</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-2">TCC: Plataforma EAD "Delta Estudos"</h3>
                        <p class="text-gray-600 mb-4">Como Desenvolvedor Chefe, coordenei a cria√ß√£o de uma solu√ß√£o educacional completa, demonstrando lideran√ßa t√©cnica e gest√£o de projetos.</p>
                        <div class="space-y-3">
                            <div class="p-4 bg-gray-100 rounded-lg">
                                <h4 class="font-semibold">Tecnologias:</h4>
                                <p>Angular, JavaScript, Sequelize, Node.js, Git, HTML/CSS.</p>
                            </div>
                            <div class="p-4 bg-gray-100 rounded-lg">
                                <h4 class="font-semibold">Resultado:</h4>
                                <p>Plataforma funcional com cadastro, gerenciamento de cursos e comunidade interativa.</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-2">Apresenta√ß√£o: Regulamenta√ß√£o das M√≠dias</h3>
                        <p class="text-gray-600 mb-4">An√°lise aprofundada sobre a LGPD e o "Caso Felca", unindo pesquisa jur√≠dica, design e gest√£o de equipe.</p>
                        <div class="bg-blue-100 text-blue-800 rounded-2xl p-6 text-center">
                            <p class="text-lg font-semibold">Resultado do Projeto</p>
                            <p class="text-6xl font-black my-2">Nota M√°xima</p>
                            <p class="text-sm">Reconhecimento pela excel√™ncia na pesquisa, organiza√ß√£o e apresenta√ß√£o visual.</p>
                        </div>
                    </div>
                </div>
            </section>

             <section id="awards">
                <h2 class="text-3xl font-bold text-center mb-8">Hist√≥rico de Excel√™ncia</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
                        <p class="text-5xl mb-2">ü•à</p>
                        <h3 class="text-xl font-bold">Medalha de Prata</h3>
                        <p class="text-gray-600">Olimp√≠ada Brasileira de Astronomia (OBA)</p>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
                         <p class="text-5xl mb-2">üèÜ</p>
                        <h3 class="text-xl font-bold">Aluno Destaque</h3>
                        <p class="text-gray-600">Melhor Aluno da Escola</p>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
                         <p class="text-5xl mb-2">ü•â</p>
                        <h3 class="text-xl font-bold">Medalha de Bronze</h3>
                        <p class="text-gray-600">Olimp√≠ada Brasileira de Astronomia (OBA)</p>
                    </div>
                </div>
            </section>
            
            <!-- Gemini-powered features section -->
            <section id="gemini-features" class="bg-gray-100 rounded-2xl shadow-inner p-8">
                <h2 class="text-3xl font-bold text-center mb-8 brand-gradient">Recursos Inteligentes com Gemini</h2>
                
                <!-- Resume Summary Generator -->
                <div class="bg-white rounded-2xl shadow-md p-6 mb-8">
                    <h3 class="text-2xl font-bold mb-4">Gerar Resumo do Curr√≠culo ‚ú®</h3>
                    <p class="text-gray-600 mb-4">Clique no bot√£o abaixo para gerar um resumo conciso e profissional do seu perfil, ideal para e-mails ou apresenta√ß√µes r√°pidas.</p>
                    <button id="generateSummaryBtn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl transition duration-300 flex items-center justify-center">
                         Gerar Resumo do Curr√≠culo ‚ú®
                    </button>
                    <div id="summaryLoading" class="hidden text-center mt-4 text-purple-600">
                        <p>Gerando resumo...</p>
                    </div>
                    <div id="summaryResult" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                        <h4 class="font-bold mb-2">Resumo Gerado:</h4>
                        <textarea id="summaryOutput" class="w-full h-32 p-2 text-sm bg-transparent border-none focus:outline-none resize-none"></textarea>
                    </div>
                </div>

                <!-- Job Description Matcher -->
                <div class="bg-white rounded-2xl shadow-md p-6 mb-8">
                    <h3 class="text-2xl font-bold mb-4">Analisar Vaga com IA ‚ú®</h3>
                    <p class="text-gray-600 mb-4">Cole a descri√ß√£o de uma vaga abaixo e o Gemini ir√° analisar como seu perfil se alinha aos requisitos. Ele destacar√° suas for√ßas e sugerir√° pontos de melhoria.</p>
                    <textarea id="jobDescriptionInput" class="w-full h-40 p-4 border rounded-xl border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 mb-4" placeholder="Cole a descri√ß√£o da vaga aqui..."></textarea>
                    <button id="analyzeJobBtn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl transition duration-300 flex items-center justify-center">
                         Analisar Vaga ‚ú®
                    </button>
                    <div id="jobAnalysisLoading" class="hidden text-center mt-4 text-purple-600">
                        <p>Analisando a vaga...</p>
                    </div>
                    <div id="jobAnalysisResult" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                        <h4 class="font-bold mb-2">An√°lise de Vaga:</h4>
                        <div id="jobAnalysisOutput" class="prose max-w-none text-gray-800"></div>
                    </div>
                </div>
                
                <!-- Cover Letter Generator -->
                <div class="bg-white rounded-2xl shadow-md p-6 mb-8">
                    <h3 class="text-2xl font-bold mb-4">Gerar Carta de Apresenta√ß√£o ‚ú®</h3>
                    <p class="text-gray-600 mb-4">Clique no bot√£o abaixo para gerar uma carta de apresenta√ß√£o profissional baseada no seu curr√≠culo. Voc√™ pode edit√°-la e personaliz√°-la depois!</p>
                    <button id="generateCoverLetterBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition duration-300 flex items-center justify-center">
                         Gerar Carta de Apresenta√ß√£o ‚ú®
                    </button>
                    <div id="coverLetterLoading" class="hidden text-center mt-4 text-blue-600">
                        <p>Gerando carta...</p>
                    </div>
                    <div id="coverLetterResult" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                        <h4 class="font-bold mb-2">Carta de Apresenta√ß√£o Gerada:</h4>
                        <textarea id="coverLetterOutput" class="w-full h-64 p-2 text-sm bg-transparent border-none focus:outline-none resize-none"></textarea>
                    </div>
                </div>

                <!-- Chatbot Section -->
                <div class="bg-white rounded-2xl shadow-md p-6">
                    <h3 class="text-2xl font-bold mb-4">Chatbot sobre o Curr√≠culo ‚ú®</h3>
                    <p class="text-gray-600 mb-4">Pergunte algo sobre a experi√™ncia, habilidades ou projetos de Lizandro. Por exemplo: "Qual √© a experi√™ncia dele em projetos?" ou "O que √© o projeto 'Regulamenta√ß√£o das M√≠dias'?"</p>
                    <div id="chat-container" class="space-y-4">
                        <div id="chat-messages" class="h-64 overflow-y-auto p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-start mb-2">
                                <div class="bg-gray-200 text-gray-800 p-3 rounded-2xl rounded-bl-none max-w-xs md:max-w-md">
                                    Ol√°! Estou aqui para responder √†s suas perguntas sobre o curr√≠culo de Lizandro.
                                </div>
                            </div>
                        </div>
                        <div class="flex">
                            <input type="text" id="chat-input" class="flex-grow rounded-l-xl p-3 border-t border-b border-l border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Digite sua pergunta...">
                            <button id="send-btn" class="bg-blue-600 text-white font-bold p-3 rounded-r-xl hover:bg-blue-700 transition duration-300">
                                Enviar
                            </button>
                        </div>
                        <div id="chatLoading" class="hidden text-center mt-4 text-blue-600">
                            <p>O chatbot est√° digitando...</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-300">
            <p class="text-lg font-bold">Interessado em um profissional que une mundos?</p>
            <p class="text-gray-600">Vamos conversar.</p>
            <div class="mt-4">
                <a href="mailto:Lizandrofelipecamargo@gmail.com" class="text-blue-600 hover:underline">Lizandrofelipecamargo@gmail.com</a>
                <span class="mx-2">|</span>
                <a href="https://linkedin.com/in/lizandrocamargo" target="_blank" class="text-blue-600 hover:underline">LinkedIn</a>
            </div>
        </footer>

    </div>
backdropColor    <script>
        const wrapLabel = (label) => {
            const maxLength = 16;
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine) {
                lines.push(currentLine.trim());
            }
            return lines;
        };
        
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };
        
        const chartColors = {
            blue: 'rgba(0, 166, 237, 0.8)',
            purple: 'rgba(74, 0, 224, 0.8)',
            yellow: 'rgba(255, 215, 0, 0.8)',
            darkGray: 'rgba(31, 41, 55, 0.8)',
            lightBlue: 'rgba(0, 166, 237, 0.2)',
        };

        const softSkillsCtx = document.getElementById('softSkillsChart').getContext('2d');
        new Chart(softSkillsCtx, {
            type: 'radar',
            data: {
                labels: ['Proatividade', 'Comunica√ß√£o', ['Gest√£o de', 'Projetos'], 'Lideran√ßa', ['Resolu√ß√£o de', 'Problemas'], ['Trabalho em', 'Equipe']],
                datasets: [{
                    label: 'N√≠vel de Habilidade',
                    data: [9, 8, 9, 8, 9, 10],
                    backgroundColor: chartColors.lightBlue,
                    borderColor: chartColors.blue,
                    pointBackgroundColor: chartColors.blue,
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: chartColors.blue
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        pointLabels: {
                            font: {
                                size: 12,
                                weight: 'bold'
                            },
                             color: chartColors.darkGray
                        },
                        ticks: {
                            backdropColor: 'transparent',
                            stepSize: 2
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                           title: tooltipTitleCallback
                        }
                    }
                }
            }
        });

        const techSkillsCtx = document.getElementById('techSkillsChart').getContext('2d');
        new Chart(techSkillsCtx, {
            type: 'bar',
            data: {
                labels: ['JavaScript', 'Angular', 'HTML/CSS', 'Git', ['Pesquisa', 'Jur√≠dica'], 'LGPD', ['An√°lise', 'de Dados']],
                datasets: [{
                    label: 'Profici√™ncia',
                    data: [15, 15, 50, 51, 46, 50, 75],
                    backgroundColor: [
                        chartColors.purple,
                        chartColors.purple,
                        chartColors.purple,
                        chartColors.purple,
                        chartColors.blue,
                        chartColors.blue,
                        chartColors.blue
                    ],
                    borderColor: 'rgba(255, 255, 255, 0)',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                         grid: {
                            display: false
                        }
                    },
                    y: {
                         grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback,
                            label: function(context) {
                                return `Profici√™ncia: ${context.raw}%`;
                            }
                        }
                    }
                }
            }
        });

        // Gemini API integration code
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const chatMessages = document.getElementById('chat-messages');
        const chatLoading = document.getElementById('chatLoading');
        const generateCoverLetterBtn = document.getElementById('generateCoverLetterBtn');
        const coverLetterLoading = document.getElementById('coverLetterLoading');
        const coverLetterResult = document.getElementById('coverLetterResult');
        const coverLetterOutput = document.getElementById('coverLetterOutput');

        // New feature elements
        const generateSummaryBtn = document.getElementById('generateSummaryBtn');
        const summaryLoading = document.getElementById('summaryLoading');
        const summaryResult = document.getElementById('summaryResult');
        const summaryOutput = document.getElementById('summaryOutput');
        const jobDescriptionInput = document.getElementById('jobDescriptionInput');
        const analyzeJobBtn = document.getElementById('analyzeJobBtn');
        const jobAnalysisLoading = document.getElementById('jobAnalysisLoading');
        const jobAnalysisResult = document.getElementById('jobAnalysisResult');
        const jobAnalysisOutput = document.getElementById('jobAnalysisOutput');

        // Extracting all content from the page to use as context for the LLM
        const cvContent = document.body.innerText;
        let chatHistory = [];

        // Function to handle exponential backoff for API calls
        async function fetchWithBackoff(url, options, maxRetries = 5, delay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) {
                        return response;
                    } else if (response.status === 429 && i < maxRetries - 1) { // 429 Too Many Requests
                        await new Promise(resolve => setTimeout(resolve, delay));
                        delay *= 2; // Exponential increase
                    } else {
                        throw new Error(`API error: ${response.status} ${response.statusText}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) {
                        throw error;
                    }
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
        }

        async function callGeminiApi(prompt) {
            let history = [...chatHistory];
            history.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: history };
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetchWithBackoff(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    chatHistory.push({ role: "model", parts: [{ text: text }] });
                    return text;
                } else {
                    return "Desculpe, n√£o consegui gerar uma resposta. Por favor, tente novamente.";
                }
            } catch (error) {
                console.error('Erro ao chamar a API do Gemini:', error);
                return "Desculpe, ocorreu um erro na comunica√ß√£o com a API. Por favor, tente novamente.";
            }
        }

        function appendMessage(sender, text) {
            const messageDiv = document.createElement('div');
            const senderClass = sender === 'user' ? 'justify-end' : 'justify-start';
            const bubbleClass = sender === 'user' ? 'bg-blue-600 text-white rounded-br-none' : 'bg-gray-200 text-gray-800 rounded-bl-none';
            messageDiv.className = `flex ${senderClass} mb-2`;
            messageDiv.innerHTML = `
                <div class="p-3 rounded-2xl max-w-xs md:max-w-md ${bubbleClass}">
                    ${text}
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        sendBtn.addEventListener('click', async () => {
            const userText = chatInput.value.trim();
            if (userText) {
                appendMessage('user', userText);
                chatInput.value = '';
                chatLoading.classList.remove('hidden');

                const fullPrompt = `Com base no seguinte curr√≠culo de Lizandro, responda a pergunta do usu√°rio. Seja direto e objetivo, usando apenas as informa√ß√µes do curr√≠culo. Se a pergunta for sobre algo que n√£o est√° no curr√≠culo, diga que a informa√ß√£o n√£o est√° dispon√≠vel.
                
                Curr√≠culo:
                ${cvContent}

                Pergunta do usu√°rio: ${userText}`;
                
                const responseText = await callGeminiApi(fullPrompt);
                chatLoading.classList.add('hidden');
                appendMessage('model', responseText);
            }
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendBtn.click();
            }
        });

        generateCoverLetterBtn.addEventListener('click', async () => {
            coverLetterResult.classList.add('hidden');
            coverLetterLoading.classList.remove('hidden');
            
            const coverLetterPrompt = `Escreva uma carta de apresenta√ß√£o profissional e persuasiva de uma √∫nica p√°gina para uma vaga de est√°gio na √°rea jur√≠dica. Use as seguintes informa√ß√µes sobre o candidato Lizandro Felipe Camargo de Oliveira:
            
            - **Resumo:** Graduando em Direito pela Universidade Federal Fluminense com s√≥lida base t√©cnica em An√°lise e Desenvolvimento de Sistemas. Busca oportunidades que permitam aplicar seu conhecimento multidisciplinar para solucionar problemas e contribuir com uma atua√ß√£o pautada na excel√™ncia, √©tica e na entrega de resultados. Experi√™ncia pr√©via em vendas.
            - **Habilidades:** Conhecimento em LGPD, pesquisa jur√≠dica, JavaScript, Angular, gest√£o de projetos, lideran√ßa, proatividade.
            - **Jornada:** Forma√ß√£o t√©cnica em 2022, experi√™ncia em vendas de 2023-2024, ingresso em Direito em 2024.
            - **Projetos de Destaque:** Coordenou a cria√ß√£o de uma plataforma EAD em seu TCC e fez uma apresenta√ß√£o sobre LGPD que recebeu nota m√°xima na faculdade.
            
            A carta deve destacar a combina√ß√£o √∫nica de Direito e Tecnologia, mostrando como essa uni√£o √© um diferencial para o escrit√≥rio ou empresa. A carta deve ter uma estrutura formal (sauda√ß√£o, corpo do texto e despedida) e ser persuasiva. Mantenha um tom profissional e confiante.`;

            const responseText = await callGeminiApi(coverLetterPrompt);
            coverLetterLoading.classList.add('hidden');
            coverLetterOutput.value = responseText;
            coverLetterResult.classList.remove('hidden');
        });

        // New feature: Resume Summarizer
        generateSummaryBtn.addEventListener('click', async () => {
            summaryResult.classList.add('hidden');
            summaryLoading.classList.remove('hidden');

            const summaryPrompt = `Com base no seguinte infogr√°fico, crie um resumo conciso de uma ou duas frases sobre o perfil profissional de Lizandro.
            
            Infogr√°fico:
            ${cvContent}`;

            const responseText = await callGeminiApi(summaryPrompt);
            summaryLoading.classList.add('hidden');
            summaryOutput.value = responseText;
            summaryResult.classList.remove('hidden');
        });

        // New feature: Job Description Matcher
        analyzeJobBtn.addEventListener('click', async () => {
            const jobDescription = jobDescriptionInput.value.trim();
            if (!jobDescription) {
                jobAnalysisResult.innerHTML = `<p class="text-red-500">Por favor, cole a descri√ß√£o da vaga.</p>`;
                jobAnalysisResult.classList.remove('hidden');
                return;
            }

            jobAnalysisResult.classList.add('hidden');
            jobAnalysisLoading.classList.remove('hidden');

            const analysisPrompt = `Analise a descri√ß√£o da vaga a seguir e o curr√≠culo de Lizandro. Identifique as correspond√™ncias entre o perfil dele e os requisitos da vaga. Destaque as principais habilidades e experi√™ncias que se alinham, e tamb√©m sugira brevemente √°reas onde ele pode complementar seu perfil.
            
            Curr√≠culo de Lizandro:
            ${cvContent}

            Descri√ß√£o da Vaga:
            ${jobDescription}
            
            A resposta deve ser formatada em Markdown, com t√≥picos para os pontos fortes e sugest√µes.`;

            const responseText = await callGeminiApi(analysisPrompt);
            jobAnalysisLoading.classList.add('hidden');
            // Convert Markdown to HTML for display
            const formattedText = responseText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                                             .replace(/\n\n/g, '</p><p>')
                                             .replace(/\n/g, '<br>')
                                             .replace(/^- (.*)$/gm, '<li>$1</li>')
                                             .replace(/<br><br><li>/g, '<ul><li>')
                                             .replace(/<\/li><br><li>/g, '</li><li>')
                                             .replace(/<\/li><br><p>/g, '</li></ul><p>');
            jobAnalysisOutput.innerHTML = formattedText;
            jobAnalysisResult.classList.remove('hidden');
        });
    </script>
</body>
</html>
